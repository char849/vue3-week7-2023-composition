import{e as h,c as s,a as t,F as r,g as p,b as v,o as n,p as y,t as l,m as c,j as g,n as C}from"./index-9w6olCH5.js";import{a as V}from"./axios-L6U4YIEh.js";import{_ as $}from"./PaginationComponent-o1U4UtQq.js";var E={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/vue3-week7-2023-composition/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const x=t("h2",null,"訂單列表",-1),D={class:"table mt-6"},I=t("thead",null,[t("tr",null,[t("th",null,"購買時間"),t("th",null,"Email"),t("th",null,"購買款項"),t("th",null,"付款方式"),t("th",null,"應付金額"),t("th",null,"是否付款"),t("th",null,"編輯")])],-1),O=["textContent"],P={class:"list-unstyled"},T=["textContent"],w={class:"text-right"},A={class:"form-check form-switch"},M=["id","onUpdate:modelValue"],B=["for"],S={key:0},N={key:1},R={class:"btn-group"},U=["onClick"],F=["onClick"],z={__name:"OrderView",setup(H){const{VITE_API:b,VITE_PATH:f}=E,u=h([]),d=h({}),i=(a=1)=>{const _=`${b}api/${f}/admin/orders?page=${a}`;V.get(_).then(e=>{u.value=e.data.orders,d.value=e.data.pagination}).catch(e=>{this.$swal(e.response,"","error")})};return i(),(a,_)=>(n(),s(r,null,[x,t("table",D,[I,t("tbody",null,[(n(!0),s(r,null,p(u.value,(e,k)=>(n(),s(r,{key:k},[u.value.length?(n(),s("tr",{key:0,class:y({"text-danger":!e.is_paid})},[t("td",null,l(a.$filters.date(e.create_at)),1),t("td",null,[e.user?(n(),s("span",{key:0,textContent:l(e.user.email)},null,8,O)):c("",!0)]),t("td",null,[t("ul",P,[(n(!0),s(r,null,p(e.products,(o,m)=>(n(),s("li",{key:m},l(o.product.title)+" 數量："+l(o.qty)+" "+l(o.product.unit),1))),128))])]),t("td",null,[e.user?(n(),s("span",{key:0,textContent:l(e.user.payMethod)},null,8,T)):c("",!0)]),t("td",w,l(a.$filters.currency(e.total)),1),t("td",null,[t("div",A,[g(t("input",{class:"form-check-input",type:"checkbox",id:`${e.id}`,"onUpdate:modelValue":o=>e.is_paid=o},null,8,M),[[C,e.is_paid]]),t("label",{class:"form-check-label",for:`${e.id}`},[e.is_paid?(n(),s("span",S,"已付款")):(n(),s("span",N,"未付款"))],8,B)])]),t("td",null,[t("div",R,[t("button",{class:"btn btn-outline-dark btn-sm",type:"button",onClick:o=>a.openOrdersModal(e)}," 檢視 ",8,U),t("button",{class:"btn btn-outline-secondary btn-sm",type:"button",onClick:o=>a.openDelOrderModal(e)}," 刪除 ",8,F)])])],2)):c("",!0)],64))),128))])]),v($,{pages:d.value,onGetProduct:i},null,8,["pages"])],64))}};export{z as default};
